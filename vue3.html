<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Vue 3.0 learning 2</title>
<script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <!-- <div id = "app">
        <p>1 日幣 = 0.278 台幣</p>   
        <div>台幣 <input type="text" v-model = "twd" v-on:input = "twd2jpy"></div>  
        <div>日幣 <input type="text" v-model = "jpy" v-on:input = "jpy2twd"></div>  
    </div>

    <script>
        const vm = Vue.createApp({
            data(){
                return{
                    twd: 0.278,
                    jpy: 1
                }
            },
            methods: {  
                twd2jpy(){
                    this.jpy = Number.parseFloat(Number(this.twd)/0.278).toFixed(3);
                },
                jpy2twd(){
                    this.twd = Number.parseFloat(Number(this.jpy)*0.278).toFixed(3);
                }
            }
        }).mount('#app');
    </script> -->

    <div id = "app">
        <p>假設 1 日幣 = <input type="text" v-model = " jpy2twd"> 台幣，且一美金 = <input type="text" v-model = "usd2twd">台幣:</p>   
        <div>台幣 <input type="text" v-model = "twd"></div>  
        <div>日幣 <input type="text" v-model = "jpy"></div> 
        <div>美金 <input type="text" v-model = "usd"></div> 
    </div>

    <script>
        const vm = Vue.createApp({
            data(){
                return{
                    twd: 1000,
                    jpy2twd: 0.278,
                    usd2twd: 28.540
                }
            },
            computed: {  
                jpy:{
                    get(){
                        return Number.parseFloat(Number(this.twd)/Number(this.jpy2twd)).toFixed(3);
                    },
                    set(val){
                        this.twd = Number.parseFloat(Number(val)*Number(this.jpy2twd)).toFixed(3);
                    }                    
                },
                usd:{
                    get(){
                        return Number.parseFloat(Number(this.twd)/Number(this.usd2twd)).toFixed(3);
                    },
                    set(val){
                        this.twd = Number.parseFloat(Number(val)*Number(this.usd2twd)).toFixed(3);
                    }   
                }
            }
        }).mount('#app');
    </script>
</body>
</html>